/*! sol-nav v1 - CSR Navigation for Sol Framework */
((t,e)=>{let r=!1;const a=new Map,s=async(s,o=!1)=>{if(!r){r=!0;try{let r=a.get(s);if(!r){const t=await fetch(s,{headers:{"X-Sol-Fragment":"true"}});r=await t.text(),t.headers.get("X-Sol-Fragment-Response")&&(a.set(s,r),setTimeout(()=>a.delete(s),3e5))}const l=(new DOMParser).parseFromString(r,"text/html"),n=l.querySelectorAll("template[data-sol-outlet]");if(n.length>0){n.forEach(r=>{const a=r.dataset.solOutlet,s=t.querySelector(`[data-sol-outlet="${a}"]`);s&&(e.__LN_UNLOAD_ALL__?.(s),s.innerHTML=r.innerHTML)});const r=l.querySelector("template[data-sol-title]");r&&(t.title=r.textContent)}else{const r=l.querySelector("#app"),a=t.querySelector("#app");r&&a&&(e.__LN_UNLOAD_ALL__?.(a),a.innerHTML=r.innerHTML);const s=l.querySelector("title");s&&(t.title=s.textContent)}o?e.history.replaceState({sol:!0},"",s):e.history.pushState({sol:!0},"",s),e.scrollTo(0,0),e.__LN_SCAN__?.()}catch(t){console.error("Sol navigation failed:",t),e.location.href=s}finally{r=!1}}},o=t=>{a.has(t)||fetch(t,{headers:{"X-Sol-Fragment":"true"}}).then(t=>t.text()).then(e=>{a.set(t,e),setTimeout(()=>a.delete(t),3e5)}).catch(()=>{})};t.addEventListener("click",t=>{const e=t.target.closest("[data-sol-link]");if(!e)return;const r=e.getAttribute("href");if(!r)return;if(r.startsWith("http")||r.startsWith("//"))return;if(t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return;t.preventDefault();const a=e.hasAttribute("data-sol-replace");s(r,a)}),t.addEventListener("mouseenter",t=>{if(!t.target||!t.target.closest)return;const e=t.target.closest("[data-sol-link][data-sol-prefetch]");if(e){const t=e.getAttribute("href");!t||t.startsWith("http")||t.startsWith("//")||o(t)}},{capture:!0}),e.addEventListener("popstate",t=>{!t.state?.sol&&t.state||s(e.location.href,!0)}),e.__SOL_NAVIGATE__=s,e.__SOL_PREFETCH__=o,e.__SOL_CACHE__=a})(document,window);