/*! sol-nav v1 - CSR Navigation for Sol Framework */
((t,e)=>{let r=!1;const s=new Map,a=(t,e)=>{t.setHTMLUnsafe?t.setHTMLUnsafe(e):t.innerHTML=e},o=async(o,l=!1)=>{if(!r){r=!0;try{let r=s.get(o);if(!r){const t=await fetch(o,{headers:{"X-Sol-Fragment":"true"}});r=await t.text(),t.headers.get("X-Sol-Fragment-Response")&&(s.set(o,r),setTimeout(()=>s.delete(o),3e5))}const n=(new DOMParser).parseFromString(r,"text/html"),i=n.querySelectorAll("template[data-sol-outlet]");if(i.length>0){i.forEach(r=>{const s=r.dataset.solOutlet,o=t.querySelector(`[data-sol-outlet="${s}"]`);o&&(e.__LN_UNLOAD_ALL__?.(o),a(o,r.innerHTML))});const r=n.querySelector("template[data-sol-title]");r&&(t.title=r.textContent)}else{const r=n.querySelector("#app"),s=t.querySelector("#app");r&&s&&(e.__LN_UNLOAD_ALL__?.(s),a(s,r.innerHTML));const o=n.querySelector("title");o&&(t.title=o.textContent)}l?e.history.replaceState({sol:!0},"",o):e.history.pushState({sol:!0},"",o),e.scrollTo(0,0),e.__LN_SCAN__?.(),e.__WC_SCAN__?.()}catch(t){console.error("Sol navigation failed:",t),e.location.href=o}finally{r=!1}}},l=t=>{s.has(t)||fetch(t,{headers:{"X-Sol-Fragment":"true"}}).then(t=>t.text()).then(e=>{s.set(t,e),setTimeout(()=>s.delete(t),3e5)}).catch(()=>{})};t.addEventListener("click",t=>{const e=t.target.closest("[data-sol-link]");if(!e)return;const r=e.getAttribute("href");if(!r)return;if(r.startsWith("http")||r.startsWith("//"))return;if(t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return;t.preventDefault();const s=e.hasAttribute("data-sol-replace");o(r,s)}),t.addEventListener("mouseenter",t=>{if(!t.target||!t.target.closest)return;const e=t.target.closest("[data-sol-link][data-sol-prefetch]");if(e){const t=e.getAttribute("href");!t||t.startsWith("http")||t.startsWith("//")||l(t)}},{capture:!0}),e.addEventListener("popstate",t=>{!t.state?.sol&&t.state||o(e.location.href,!0)}),e.__SOL_NAVIGATE__=o,e.__SOL_PREFETCH__=l,e.__SOL_CACHE__=s})(document,window);